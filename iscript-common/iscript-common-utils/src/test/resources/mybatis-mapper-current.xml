<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vipshop.crawler.price.dao.DailyBrandCompetitionDao">
	<resultMap type="DailyBrandCompetitionDto" id="RM_DailyBrandCompetitionDto">
		<result column="id" property="id"/>
		<result column="data_date" property="dataDate"/>
		<result column="category" property="category"/>
		<result column="category_id" property="categoryId"/>
		<result column="sales_amount_per" property="salesAmountPer"/>
		<result column="competition_index" property="competitionIndex"/>
		<result column="site_id" property="siteId"/>
		<result column="brand_count" property="brandCount"/>
		<result column="vcode_count" property="vcodeCount"/>
		<result column="ocode_count" property="ocodeCount"/>
		<result column="vmatch_count" property="vmatchCount"/>
		<result column="calc_count" property="calcCount"/>
		<result column="vavg_price" property="vavgPrice"/>
		<result column="oavg_price" property="oavgPrice"/>
		<result column="create_time" property="createTime"/>
		<result column="update_time" property="updateTime"/>
	</resultMap>
	<sql id="DailyBrandCompetitionDto-coloumn-list">
		id
		,data_date
		,category
		,category_id
		,sales_amount_per
		,competition_index
		,site_id
		,brand_count
		,vcode_count
		,ocode_count
		,vmatch_count
		,calc_count
		,vavg_price
		,oavg_price
		,create_time
		,update_time
	</sql>
	<insert id="batchInsert" parameterType="DailyBrandCompetitionDto">
		INSERT INTO T_PRICING_DAILY_BRAND_COMPETITION(
		<include refid="DailyBrandCompetitionDto-coloumn-list" />
		)
		VALUES
		<foreach collection="list" item="item" index="index"
			separator=",">
			(#{item.dataDate},#{item.category},#{item.categoryId},#{item.salesAmountPer},#{item.competitionIndex},#{item.siteId},#{item.brandCount},#{item.vcodeCount},#{item.ocodeCount},#{item.vmatchCount},#{item.calcCount},#{item.vavgPrice},#{item.oavgPrice},#{item.createTime},#{item.updateTime})
		</foreach>
	</insert>
	<update id="updateOne" parameterType="DailyBrandCompetitionDto">
		UPDATE T_PRICING_DAILY_BRAND_COMPETITION SET
		id=#{id},
		data_date=#{dataDate},
		category=#{category},
		category_id=#{categoryId},
		sales_amount_per=#{salesAmountPer},
		competition_index=#{competitionIndex},
		site_id=#{siteId},
		brand_count=#{brandCount},
		vcode_count=#{vcodeCount},
		ocode_count=#{ocodeCount},
		vmatch_count=#{vmatchCount},
		calc_count=#{calcCount},
		vavg_price=#{vavgPrice},
		oavg_price=#{oavgPrice},
		create_time=#{createTime},
		update_time=#{updateTime}
		WHERE ID=#{id}
	</update>
</mapper>
<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dianping.poi.proxy.mgr.dao.ProxyAgentDao">
	<resultMap type="ProxyAgentDto" id="RM_ProxyAgentDto">
		<result column="ID" property="id"/>
		<result column="AGENT_NAME" property="agentName"/>
		<result column="AGENT_ADDR" property="agentAddr"/>
		<result column="STATUS" property="status"/>
		<result column="PROXY_CODE" property="proxyCode"/>
		<result column="LAST_DWON_TIME" property="lastDwonTime"/>
		<result column="LAST_UP_TIME" property="lastUpTime"/>
		<result column="CREATE_TIME" property="createTime"/>
		<result column="UPDATE_TIME" property="updateTime"/>
	</resultMap>
	<sql id="ProxyAgentDto-coloumn-list">
		AGENT_NAME
		,AGENT_ADDR
		,STATUS
		,PROXY_CODE
		,LAST_DWON_TIME
		,LAST_UP_TIME
		,CREATE_TIME
		,UPDATE_TIME
	</sql>
	<insert id="batchInsert" parameterType="ProxyAgentDto">
		INSERT INTO T_PROXY_AGENT(
		<include refid="ProxyAgentDto-coloumn-list" />
		)
		VALUES
		<foreach collection="list" item="item" index="index"
			separator=",">
			(#{item.agentName},#{item.agentAddr},#{item.status},#{item.proxyCode},#{item.lastDwonTime},#{item.lastUpTime},#{item.createTime},#{item.updateTime})
		</foreach>
	</insert>
	<update id="batchUpdate" parameterType="ProxyAgentDto">
		UPDATE T_PROXY_AGENT SET
		AGENT_NAME=#{agentName}
		,AGENT_ADDR=#{agentAddr}
		,STATUS=#{status}
		,PROXY_CODE=#{proxyCode}
		,LAST_DWON_TIME=#{lastDwonTime}
		,LAST_UP_TIME=#{lastUpTime}
		,CREATE_TIME=#{createTime}
		,UPDATE_TIME=#{updateTime}
		WHERE ID=#{id}
	</update>
</mapper>
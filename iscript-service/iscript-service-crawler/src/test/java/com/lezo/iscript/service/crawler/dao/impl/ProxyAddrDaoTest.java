package com.lezo.iscript.service.crawler.dao.impl;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONObject;
import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.lezo.iscript.service.crawler.dao.ProxyAddrDao;
import com.lezo.iscript.service.crawler.dto.ProxyAddrDto;
import com.lezo.iscript.spring.context.SpringBeanUtils;
import com.lezo.iscript.utils.BatchIterator;
import com.lezo.iscript.utils.InetAddressUtils;

public class ProxyAddrDaoTest {

	@Test
	public void testBatchInsert() throws Exception {
		String[] configs = new String[] { "classpath:spring-config-ds.xml" };
		ApplicationContext cx = new ClassPathXmlApplicationContext(configs);
		ProxyAddrDao proxyAddrDao = SpringBeanUtils.getBean(ProxyAddrDao.class);
		String source = "{\"proxys\":[{\"port\":\"3128\",\"ip\":\"5.35.250.208\"},{\"port\":\"7808\",\"ip\":\"62.113.208.89\"},{\"port\":\"8089\",\"ip\":\"89.46.101.122\"},{\"port\":\"9876\",\"ip\":\"37.187.88.169\"},{\"port\":\"7808\",\"ip\":\"93.115.8.229\"},{\"port\":\"443\",\"ip\":\"194.153.113.198\"},{\"port\":\"3128\",\"ip\":\"217.160.22.24\"},{\"port\":\"8089\",\"ip\":\"188.241.141.112\"},{\"port\":\"3128\",\"ip\":\"85.25.94.175\"},{\"port\":\"3128\",\"ip\":\"212.68.44.133\"},{\"port\":\"7808\",\"ip\":\"23.89.198.161\"},{\"port\":\"3128\",\"ip\":\"213.179.207.162\"},{\"port\":\"7808\",\"ip\":\"98.143.148.82\"},{\"port\":\"8080\",\"ip\":\"188.165.244.5\"},{\"port\":\"80\",\"ip\":\"196.200.156.211\"},{\"port\":\"8089\",\"ip\":\"198.52.199.152\"},{\"port\":\"7808\",\"ip\":\"184.105.18.60\"},{\"port\":\"3128\",\"ip\":\"197.254.192.28\"},{\"port\":\"8080\",\"ip\":\"192.99.43.55\"},{\"port\":\"3127\",\"ip\":\"199.200.120.140\"},{\"port\":\"8080\",\"ip\":\"190.242.117.2\"},{\"port\":\"8080\",\"ip\":\"186.28.232.2\"},{\"port\":\"3128\",\"ip\":\"197.254.192.26\"},{\"port\":\"3128\",\"ip\":\"197.254.192.25\"},{\"port\":\"3128\",\"ip\":\"195.222.127.21\"},{\"port\":\"7808\",\"ip\":\"209.170.151.142\"},{\"port\":\"3127\",\"ip\":\"192.227.139.227\"},{\"port\":\"3128\",\"ip\":\"197.254.192.24\"},{\"port\":\"8080\",\"ip\":\"108.161.134.26\"},{\"port\":\"8089\",\"ip\":\"199.241.137.180\"},{\"port\":\"3128\",\"ip\":\"176.31.182.88\"},{\"port\":\"80\",\"ip\":\"189.39.124.54\"},{\"port\":\"3127\",\"ip\":\"66.85.131.18\"},{\"port\":\"7808\",\"ip\":\"107.182.135.43\"},{\"port\":\"8080\",\"ip\":\"142.0.42.8\"},{\"port\":\"8080\",\"ip\":\"201.219.60.85\"},{\"port\":\"3128\",\"ip\":\"182.18.162.123\"},{\"port\":\"3128\",\"ip\":\"41.223.119.156\"},{\"port\":\"3127\",\"ip\":\"198.52.217.44\"},{\"port\":\"3127\",\"ip\":\"107.182.135.94\"},{\"port\":\"8089\",\"ip\":\"108.163.254.214\"},{\"port\":\"8089\",\"ip\":\"198.148.112.46\"},{\"port\":\"3128\",\"ip\":\"37.187.102.76\"},{\"port\":\"3128\",\"ip\":\"213.160.146.140\"},{\"port\":\"8080\",\"ip\":\"119.46.111.17\"},{\"port\":\"8080\",\"ip\":\"119.46.111.16\"},{\"port\":\"8080\",\"ip\":\"119.46.111.14\"},{\"port\":\"3129\",\"ip\":\"202.29.214.2\"},{\"port\":\"8080\",\"ip\":\"119.46.111.15\"},{\"port\":\"3128\",\"ip\":\"94.23.216.58\"},{\"port\":\"8080\",\"ip\":\"86.127.193.19\"},{\"port\":\"80\",\"ip\":\"187.191.54.178\"},{\"port\":\"8080\",\"ip\":\"111.161.126.87\"},{\"port\":\"3128\",\"ip\":\"184.82.27.226\"},{\"port\":\"8000\",\"ip\":\"119.31.123.207\"},{\"port\":\"3128\",\"ip\":\"210.212.97.179\"},{\"port\":\"3128\",\"ip\":\"184.82.27.227\"},{\"port\":\"8081\",\"ip\":\"193.160.225.13\"},{\"port\":\"8080\",\"ip\":\"111.161.126.88\"},{\"port\":\"80\",\"ip\":\"197.253.6.239\"},{\"port\":\"3128\",\"ip\":\"61.54.221.200\"},{\"port\":\"8080\",\"ip\":\"119.46.111.18\"},{\"port\":\"8080\",\"ip\":\"190.242.51.61\"},{\"port\":\"8080\",\"ip\":\"118.194.198.252\"},{\"port\":\"3128\",\"ip\":\"200.135.250.130\"},{\"port\":\"80\",\"ip\":\"111.7.128.133\"},{\"port\":\"80\",\"ip\":\"124.161.94.8\"},{\"port\":\"8080\",\"ip\":\"177.5.97.114\"},{\"port\":\"8080\",\"ip\":\"111.161.126.90\"},{\"port\":\"3128\",\"ip\":\"217.67.188.210\"},{\"port\":\"8090\",\"ip\":\"119.4.115.21\"},{\"port\":\"80\",\"ip\":\"123.125.19.44\"},{\"port\":\"80\",\"ip\":\"61.156.44.1\"},{\"port\":\"3128\",\"ip\":\"218.24.166.78\"},{\"port\":\"3128\",\"ip\":\"87.106.133.191\"},{\"port\":\"80\",\"ip\":\"119.46.111.21\"},{\"port\":\"8080\",\"ip\":\"111.161.126.91\"},{\"port\":\"9999\",\"ip\":\"61.158.173.179\"},{\"port\":\"3128\",\"ip\":\"117.211.106.163\"},{\"port\":\"8080\",\"ip\":\"186.190.238.65\"},{\"port\":\"8080\",\"ip\":\"111.161.126.89\"},{\"port\":\"8080\",\"ip\":\"109.99.150.2\"},{\"port\":\"3128\",\"ip\":\"202.106.16.36\"},{\"port\":\"8080\",\"ip\":\"109.185.116.199\"},{\"port\":\"8080\",\"ip\":\"186.67.155.234\"},{\"port\":\"80\",\"ip\":\"183.61.240.126\"},{\"port\":\"8080\",\"ip\":\"86.107.58.122\"},{\"port\":\"3128\",\"ip\":\"123.30.170.126\"},{\"port\":\"80\",\"ip\":\"111.7.128.199\"},{\"port\":\"3128\",\"ip\":\"128.199.234.232\"},{\"port\":\"9999\",\"ip\":\"61.163.231.212\"},{\"port\":\"8089\",\"ip\":\"66.35.68.145\"},{\"port\":\"8080\",\"ip\":\"190.167.198.157\"},{\"port\":\"3128\",\"ip\":\"217.76.38.69\"},{\"port\":\"8080\",\"ip\":\"195.244.36.177\"},{\"port\":\"8080\",\"ip\":\"218.9.69.2\"},{\"port\":\"3128\",\"ip\":\"109.120.166.105\"},{\"port\":\"3128\",\"ip\":\"193.194.79.182\"},{\"port\":\"3128\",\"ip\":\"218.108.242.108\"},{\"port\":\"8080\",\"ip\":\"196.200.119.170\"},{\"port\":\"8080\",\"ip\":\"113.53.250.62\"},{\"port\":\"8085\",\"ip\":\"60.18.147.109\"},{\"port\":\"80\",\"ip\":\"62.248.78.220\"},{\"port\":\"8080\",\"ip\":\"180.250.165.137\"},{\"port\":\"3128\",\"ip\":\"187.115.25.85\"},{\"port\":\"80\",\"ip\":\"211.162.79.69\"},{\"port\":\"8081\",\"ip\":\"181.143.3.58\"},{\"port\":\"3128\",\"ip\":\"186.216.161.169\"},{\"port\":\"3128\",\"ip\":\"210.14.5.10\"},{\"port\":\"12\",\"ip\":\"42.62.176.226\"},{\"port\":\"8080\",\"ip\":\"195.206.96.69\"},{\"port\":\"8080\",\"ip\":\"92.87.49.1\"},{\"port\":\"8080\",\"ip\":\"109.224.11.21\"},{\"port\":\"3128\",\"ip\":\"82.151.57.29\"},{\"port\":\"8080\",\"ip\":\"134.249.169.180\"},{\"port\":\"8080\",\"ip\":\"180.211.179.50\"},{\"port\":\"8080\",\"ip\":\"180.211.183.134\"},{\"port\":\"3128\",\"ip\":\"218.90.174.167\"},{\"port\":\"8080\",\"ip\":\"200.48.240.125\"},{\"port\":\"3128\",\"ip\":\"91.215.144.52\"},{\"port\":\"8080\",\"ip\":\"189.114.58.82\"},{\"port\":\"3128\",\"ip\":\"177.71.53.42\"},{\"port\":\"3128\",\"ip\":\"54.72.202.12\"},{\"port\":\"8080\",\"ip\":\"181.112.217.211\"},{\"port\":\"3128\",\"ip\":\"218.204.131.250\"},{\"port\":\"8080\",\"ip\":\"101.69.192.36\"},{\"port\":\"8080\",\"ip\":\"58.241.134.48\"},{\"port\":\"9999\",\"ip\":\"61.158.173.188\"},{\"port\":\"8080\",\"ip\":\"210.4.113.82\"},{\"port\":\"3128\",\"ip\":\"109.234.194.242\"},{\"port\":\"3128\",\"ip\":\"122.144.130.11\"},{\"port\":\"8080\",\"ip\":\"180.183.250.69\"},{\"port\":\"3128\",\"ip\":\"37.187.101.28\"},{\"port\":\"3128\",\"ip\":\"91.196.230.66\"},{\"port\":\"8080\",\"ip\":\"41.75.201.146\"},{\"port\":\"3128\",\"ip\":\"118.244.239.2\"},{\"port\":\"3128\",\"ip\":\"112.199.65.186\"},{\"port\":\"3128\",\"ip\":\"94.254.38.8\"},{\"port\":\"3128\",\"ip\":\"210.82.92.77\"},{\"port\":\"80\",\"ip\":\"211.162.79.68\"},{\"port\":\"8080\",\"ip\":\"177.85.233.190\"},{\"port\":\"8080\",\"ip\":\"89.216.26.231\"},{\"port\":\"8080\",\"ip\":\"218.104.118.54\"},{\"port\":\"80\",\"ip\":\"211.162.79.65\"},{\"port\":\"3128\",\"ip\":\"189.2.105.19\"},{\"port\":\"8080\",\"ip\":\"118.179.215.106\"},{\"port\":\"3128\",\"ip\":\"94.41.108.38\"},{\"port\":\"3128\",\"ip\":\"157.7.202.29\"},{\"port\":\"3128\",\"ip\":\"78.47.92.2\"},{\"port\":\"8080\",\"ip\":\"46.16.226.10\"},{\"port\":\"3128\",\"ip\":\"84.208.168.72\"},{\"port\":\"8888\",\"ip\":\"194.85.142.120\"},{\"port\":\"8080\",\"ip\":\"109.175.8.234\"},{\"port\":\"3128\",\"ip\":\"103.15.244.170\"},{\"port\":\"9000\",\"ip\":\"111.47.64.33\"},{\"port\":\"9999\",\"ip\":\"123.13.226.77\"},{\"port\":\"8080\",\"ip\":\"95.0.22.1\"},{\"port\":\"3128\",\"ip\":\"23.94.37.45\"},{\"port\":\"80\",\"ip\":\"118.97.255.90\"},{\"port\":\"3128\",\"ip\":\"110.77.136.102\"},{\"port\":\"8080\",\"ip\":\"212.126.96.181\"},{\"port\":\"3128\",\"ip\":\"212.91.188.166\"},{\"port\":\"8080\",\"ip\":\"118.97.32.226\"},{\"port\":\"3128\",\"ip\":\"41.220.28.51\"},{\"port\":\"8080\",\"ip\":\"89.169.27.68\"},{\"port\":\"3128\",\"ip\":\"201.222.1.66\"},{\"port\":\"8080\",\"ip\":\"193.110.216.144\"},{\"port\":\"3128\",\"ip\":\"78.36.202.149\"},{\"port\":\"3128\",\"ip\":\"89.248.118.232\"},{\"port\":\"80\",\"ip\":\"211.162.79.66\"},{\"port\":\"3128\",\"ip\":\"201.72.98.50\"},{\"port\":\"8123\",\"ip\":\"223.85.18.192\"},{\"port\":\"8080\",\"ip\":\"117.240.240.35\"},{\"port\":\"8080\",\"ip\":\"202.170.66.204\"},{\"port\":\"7808\",\"ip\":\"191.101.1.251\"},{\"port\":\"8080\",\"ip\":\"212.175.223.218\"},{\"port\":\"3128\",\"ip\":\"118.97.243.2\"},{\"port\":\"8080\",\"ip\":\"190.0.16.58\"},{\"port\":\"3128\",\"ip\":\"220.133.5.108\"},{\"port\":\"8080\",\"ip\":\"202.4.104.156\"},{\"port\":\"9999\",\"ip\":\"65.48.113.25\"},{\"port\":\"8080\",\"ip\":\"195.175.75.114\"},{\"port\":\"3128\",\"ip\":\"112.5.90.167\"},{\"port\":\"8080\",\"ip\":\"118.103.236.152\"},{\"port\":\"8080\",\"ip\":\"177.137.136.10\"},{\"port\":\"8080\",\"ip\":\"202.4.104.155\"},{\"port\":\"3128\",\"ip\":\"178.33.34.48\"},{\"port\":\"3128\",\"ip\":\"80.241.216.195\"},{\"port\":\"8080\",\"ip\":\"46.10.166.143\"},{\"port\":\"8080\",\"ip\":\"177.200.82.234\"},{\"port\":\"8080\",\"ip\":\"186.155.251.220\"},{\"port\":\"8080\",\"ip\":\"200.1.181.210\"},{\"port\":\"3128\",\"ip\":\"212.73.73.250\"},{\"port\":\"8080\",\"ip\":\"157.100.146.7\"},{\"port\":\"8888\",\"ip\":\"36.75.212.191\"},{\"port\":\"8888\",\"ip\":\"91.188.39.1\"},{\"port\":\"8080\",\"ip\":\"94.154.222.95\"},{\"port\":\"3128\",\"ip\":\"176.126.62.3\"},{\"port\":\"80\",\"ip\":\"116.228.55.217\"},{\"port\":\"9999\",\"ip\":\"219.132.140.218\"},{\"port\":\"80\",\"ip\":\"27.147.146.83\"},{\"port\":\"88\",\"ip\":\"27.50.128.242\"},{\"port\":\"9999\",\"ip\":\"113.15.180.5\"},{\"port\":\"80\",\"ip\":\"175.101.16.82\"},{\"port\":\"8080\",\"ip\":\"177.67.146.190\"},{\"port\":\"8000\",\"ip\":\"118.194.198.133\"},{\"port\":\"8080\",\"ip\":\"103.15.238.62\"},{\"port\":\"3128\",\"ip\":\"112.90.146.76\"},{\"port\":\"8080\",\"ip\":\"177.36.5.140\"},{\"port\":\"8080\",\"ip\":\"221.210.5.30\"},{\"port\":\"3128\",\"ip\":\"120.236.64.122\"},{\"port\":\"8080\",\"ip\":\"177.36.214.214\"},{\"port\":\"3128\",\"ip\":\"200.250.1.179\"},{\"port\":\"80\",\"ip\":\"186.42.121.149\"},{\"port\":\"80\",\"ip\":\"69.60.127.232\"},{\"port\":\"8080\",\"ip\":\"182.253.195.18\"},{\"port\":\"3128\",\"ip\":\"106.186.120.178\"},{\"port\":\"80\",\"ip\":\"86.122.124.11\"},{\"port\":\"8123\",\"ip\":\"183.220.193.174\"},{\"port\":\"3129\",\"ip\":\"212.156.78.122\"},{\"port\":\"8080\",\"ip\":\"85.111.25.189\"},{\"port\":\"3128\",\"ip\":\"103.10.231.218\"},{\"port\":\"8080\",\"ip\":\"89.190.195.170\"},{\"port\":\"8080\",\"ip\":\"190.12.28.70\"},{\"port\":\"3128\",\"ip\":\"110.179.184.4\"},{\"port\":\"8080\",\"ip\":\"183.234.67.134\"},{\"port\":\"8088\",\"ip\":\"111.4.117.36\"},{\"port\":\"3128\",\"ip\":\"113.106.93.42\"},{\"port\":\"443\",\"ip\":\"178.33.136.68\"},{\"port\":\"8080\",\"ip\":\"191.240.136.35\"},{\"port\":\"8080\",\"ip\":\"182.73.3.46\"},{\"port\":\"3129\",\"ip\":\"202.143.182.229\"},{\"port\":\"80\",\"ip\":\"203.80.144.4\"},{\"port\":\"3128\",\"ip\":\"191.238.13.71\"},{\"port\":\"8080\",\"ip\":\"202.164.46.233\"},{\"port\":\"3128\",\"ip\":\"106.186.18.108\"},{\"port\":\"3128\",\"ip\":\"113.31.27.36\"},{\"port\":\"3128\",\"ip\":\"221.122.79.52\"},{\"port\":\"8080\",\"ip\":\"202.87.240.34\"},{\"port\":\"443\",\"ip\":\"5.9.44.23\"},{\"port\":\"8080\",\"ip\":\"60.21.136.22\"},{\"port\":\"3128\",\"ip\":\"106.37.177.251\"},{\"port\":\"9999\",\"ip\":\"119.6.78.39\"},{\"port\":\"80\",\"ip\":\"203.119.8.69\"},{\"port\":\"3128\",\"ip\":\"195.230.130.166\"},{\"port\":\"3129\",\"ip\":\"203.172.208.43\"},{\"port\":\"3128\",\"ip\":\"183.63.149.110\"},{\"port\":\"8080\",\"ip\":\"109.175.8.38\"},{\"port\":\"8080\",\"ip\":\"222.174.27.166\"},{\"port\":\"80\",\"ip\":\"27.54.166.138\"},{\"port\":\"8080\",\"ip\":\"190.54.121.168\"},{\"port\":\"9999\",\"ip\":\"114.113.221.164\"},{\"port\":\"3128\",\"ip\":\"222.83.14.142\"},{\"port\":\"80\",\"ip\":\"114.215.208.11\"},{\"port\":\"3128\",\"ip\":\"221.122.79.51\"},{\"port\":\"3128\",\"ip\":\"222.83.14.145\"},{\"port\":\"8080\",\"ip\":\"113.196.34.66\"},{\"port\":\"8080\",\"ip\":\"115.127.22.138\"},{\"port\":\"8080\",\"ip\":\"115.239.248.235\"},{\"port\":\"8080\",\"ip\":\"202.166.217.86\"},{\"port\":\"3128\",\"ip\":\"203.114.109.66\"},{\"port\":\"3128\",\"ip\":\"62.240.106.123\"},{\"port\":\"8080\",\"ip\":\"200.170.151.14\"},{\"port\":\"8080\",\"ip\":\"186.227.208.60\"},{\"port\":\"8080\",\"ip\":\"178.136.131.166\"},{\"port\":\"3128\",\"ip\":\"118.238.234.228\"},{\"port\":\"8080\",\"ip\":\"202.143.148.58\"},{\"port\":\"9999\",\"ip\":\"222.218.152.36\"},{\"port\":\"3128\",\"ip\":\"190.140.173.252\"},{\"port\":\"9000\",\"ip\":\"59.46.220.214\"},{\"port\":\"3128\",\"ip\":\"122.200.90.172\"},{\"port\":\"3128\",\"ip\":\"115.124.74.14\"},{\"port\":\"8080\",\"ip\":\"212.200.131.83\"},{\"port\":\"80\",\"ip\":\"118.97.134.114\"},{\"port\":\"9999\",\"ip\":\"218.29.90.30\"},{\"port\":\"8080\",\"ip\":\"200.66.26.8\"},{\"port\":\"3128\",\"ip\":\"222.83.14.144\"},{\"port\":\"80\",\"ip\":\"202.107.222.50\"},{\"port\":\"8080\",\"ip\":\"78.137.5.26\"},{\"port\":\"80\",\"ip\":\"112.124.4.94\"},{\"port\":\"3128\",\"ip\":\"112.124.28.80\"},{\"port\":\"9999\",\"ip\":\"113.53.249.29\"},{\"port\":\"80\",\"ip\":\"183.238.133.43\"},{\"port\":\"3128\",\"ip\":\"112.124.20.224\"},{\"port\":\"8080\",\"ip\":\"189.113.64.125\"},{\"port\":\"8080\",\"ip\":\"139.228.249.102\"},{\"port\":\"3128\",\"ip\":\"221.120.101.122\"},{\"port\":\"80\",\"ip\":\"210.14.134.6\"},{\"port\":\"3128\",\"ip\":\"218.198.127.68\"},{\"port\":\"8080\",\"ip\":\"200.253.165.139\"},{\"port\":\"8080\",\"ip\":\"114.31.5.91\"},{\"port\":\"3129\",\"ip\":\"203.172.208.42\"},{\"port\":\"3128\",\"ip\":\"190.69.80.170\"},{\"port\":\"8080\",\"ip\":\"117.102.65.162\"},{\"port\":\"3128\",\"ip\":\"36.74.72.96\"},{\"port\":\"3128\",\"ip\":\"42.120.22.25\"},{\"port\":\"80\",\"ip\":\"103.10.151.177\"},{\"port\":\"3128\",\"ip\":\"37.187.178.131\"},{\"port\":\"8080\",\"ip\":\"115.248.30.186\"},{\"port\":\"8080\",\"ip\":\"61.8.77.171\"},{\"port\":\"9999\",\"ip\":\"221.182.62.115\"},{\"port\":\"8080\",\"ip\":\"61.247.188.66\"},{\"port\":\"88\",\"ip\":\"183.60.44.136\"},{\"port\":\"80\",\"ip\":\"211.151.76.25\"},{\"port\":\"9000\",\"ip\":\"113.200.68.26\"},{\"port\":\"8080\",\"ip\":\"202.159.29.206\"},{\"port\":\"3128\",\"ip\":\"122.226.172.18\"},{\"port\":\"3129\",\"ip\":\"203.172.208.44\"},{\"port\":\"18000\",\"ip\":\"27.254.82.143\"},{\"port\":\"9999\",\"ip\":\"114.113.221.170\"},{\"port\":\"8080\",\"ip\":\"113.21.230.26\"},{\"port\":\"8000\",\"ip\":\"139.228.157.51\"},{\"port\":\"8123\",\"ip\":\"183.223.29.111\"},{\"port\":\"8123\",\"ip\":\"183.221.160.223\"},{\"port\":\"8123\",\"ip\":\"223.84.179.119\"},{\"port\":\"8080\",\"ip\":\"112.199.65.210\"},{\"port\":\"8080\",\"ip\":\"116.226.38.130\"},{\"port\":\"8080\",\"ip\":\"92.222.14.156\"},{\"port\":\"8080\",\"ip\":\"202.143.122.66\"},{\"port\":\"8090\",\"ip\":\"85.100.124.184\"},{\"port\":\"80\",\"ip\":\"115.29.246.204\"},{\"port\":\"3128\",\"ip\":\"122.225.19.181\"},{\"port\":\"8080\",\"ip\":\"111.47.92.226\"},{\"port\":\"8080\",\"ip\":\"187.66.175.160\"},{\"port\":\"3128\",\"ip\":\"188.138.154.86\"},{\"port\":\"3128\",\"ip\":\"222.83.14.143\"},{\"port\":\"8080\",\"ip\":\"58.65.241.6\"},{\"port\":\"3128\",\"ip\":\"110.173.49.18\"},{\"port\":\"443\",\"ip\":\"178.215.174.42\"},{\"port\":\"8080\",\"ip\":\"177.128.24.75\"},{\"port\":\"9999\",\"ip\":\"121.33.222.228\"},{\"port\":\"9999\",\"ip\":\"117.36.197.165\"},{\"port\":\"9000\",\"ip\":\"211.144.76.58\"},{\"port\":\"80\",\"ip\":\"190.200.225.77\"},{\"port\":\"8080\",\"ip\":\"36.75.213.207\"},{\"port\":\"8080\",\"ip\":\"223.71.208.122\"},{\"port\":\"8080\",\"ip\":\"180.250.172.182\"},{\"port\":\"3128\",\"ip\":\"1.36.230.169\"},{\"port\":\"80\",\"ip\":\"103.10.60.98\"},{\"port\":\"80\",\"ip\":\"183.63.149.103\"},{\"port\":\"8080\",\"ip\":\"201.221.133.182\"},{\"port\":\"8118\",\"ip\":\"222.85.1.123\"},{\"port\":\"9999\",\"ip\":\"180.142.129.132\"},{\"port\":\"8080\",\"ip\":\"201.221.131.92\"},{\"port\":\"8080\",\"ip\":\"141.105.166.175\"},{\"port\":\"80\",\"ip\":\"63.221.140.143\"},{\"port\":\"8080\",\"ip\":\"203.81.249.39\"},{\"port\":\"8080\",\"ip\":\"201.221.131.102\"},{\"port\":\"8123\",\"ip\":\"223.86.117.251\"},{\"port\":\"80\",\"ip\":\"124.207.57.181\"},{\"port\":\"80\",\"ip\":\"112.124.46.186\"},{\"port\":\"8080\",\"ip\":\"141.105.164.183\"},{\"port\":\"3128\",\"ip\":\"58.221.47.58\"},{\"port\":\"8123\",\"ip\":\"183.223.29.79\"},{\"port\":\"3128\",\"ip\":\"189.80.20.212\"},{\"port\":\"3128\",\"ip\":\"187.240.117.148\"},{\"port\":\"3128\",\"ip\":\"202.137.8.149\"},{\"port\":\"3128\",\"ip\":\"203.172.198.75\"},{\"port\":\"8080\",\"ip\":\"27.145.145.105\"},{\"port\":\"8081\",\"ip\":\"85.236.6.54\"},{\"port\":\"3128\",\"ip\":\"195.62.78.1\"},{\"port\":\"8080\",\"ip\":\"65.167.25.254\"},{\"port\":\"8080\",\"ip\":\"115.238.164.208\"},{\"port\":\"9999\",\"ip\":\"58.18.183.179\"},{\"port\":\"8080\",\"ip\":\"123.108.14.39\"},{\"port\":\"8080\",\"ip\":\"88.146.208.123\"},{\"port\":\"80\",\"ip\":\"27.50.30.50\"},{\"port\":\"80\",\"ip\":\"202.128.27.18\"},{\"port\":\"8080\",\"ip\":\"118.97.191.205\"},{\"port\":\"8088\",\"ip\":\"58.22.103.208\"},{\"port\":\"80\",\"ip\":\"211.152.50.70\"},{\"port\":\"8080\",\"ip\":\"46.175.184.235\"},{\"port\":\"8080\",\"ip\":\"116.252.253.121\"},{\"port\":\"3128\",\"ip\":\"112.124.106.113\"},{\"port\":\"8080\",\"ip\":\"109.251.10.3\"},{\"port\":\"8080\",\"ip\":\"222.124.189.93\"},{\"port\":\"8080\",\"ip\":\"200.10.67.162\"},{\"port\":\"8080\",\"ip\":\"202.168.230.54\"},{\"port\":\"8080\",\"ip\":\"118.97.255.106\"},{\"port\":\"8080\",\"ip\":\"201.221.133.86\"},{\"port\":\"3128\",\"ip\":\"117.239.12.61\"},{\"port\":\"9999\",\"ip\":\"222.218.157.121\"},{\"port\":\"8080\",\"ip\":\"196.202.254.212\"},{\"port\":\"3128\",\"ip\":\"182.253.32.91\"},{\"port\":\"8080\",\"ip\":\"49.122.68.5\"},{\"port\":\"8080\",\"ip\":\"49.156.33.158\"},{\"port\":\"9999\",\"ip\":\"221.182.62.114\"},{\"port\":\"8080\",\"ip\":\"202.159.6.98\"},{\"port\":\"9999\",\"ip\":\"61.163.236.153\"},{\"port\":\"80\",\"ip\":\"222.92.141.250\"},{\"port\":\"9000\",\"ip\":\"110.172.216.186\"},{\"port\":\"80\",\"ip\":\"115.29.164.173\"},{\"port\":\"80\",\"ip\":\"112.124.5.121\"},{\"port\":\"8080\",\"ip\":\"122.160.115.202\"},{\"port\":\"8080\",\"ip\":\"180.248.215.63\"},{\"port\":\"3128\",\"ip\":\"201.53.129.55\"},{\"port\":\"8000\",\"ip\":\"49.0.64.238\"},{\"port\":\"8080\",\"ip\":\"177.87.244.102\"},{\"port\":\"3129\",\"ip\":\"187.72.224.67\"},{\"port\":\"8080\",\"ip\":\"89.132.175.47\"},{\"port\":\"8080\",\"ip\":\"180.250.215.106\"},{\"port\":\"3128\",\"ip\":\"50.58.251.66\"},{\"port\":\"8080\",\"ip\":\"139.228.245.242\"},{\"port\":\"80\",\"ip\":\"200.24.17.46\"},{\"port\":\"8080\",\"ip\":\"101.255.56.106\"},{\"port\":\"8123\",\"ip\":\"183.221.186.207\"},{\"port\":\"9999\",\"ip\":\"46.175.184.245\"},{\"port\":\"9000\",\"ip\":\"221.4.134.231\"},{\"port\":\"8080\",\"ip\":\"217.168.89.83\"},{\"port\":\"80\",\"ip\":\"114.255.7.186\"},{\"port\":\"80\",\"ip\":\"101.255.66.126\"},{\"port\":\"8080\",\"ip\":\"200.61.168.141\"},{\"port\":\"80\",\"ip\":\"103.10.80.106\"}]}";
		JSONObject jObject = new JSONObject(source);
		JSONArray proxyArray = jObject.getJSONArray("proxys");
		List<ProxyAddrDto> dtoList = new ArrayList<ProxyAddrDto>();
		for (int i = 0; i < proxyArray.length(); i++) {
			JSONObject pObject = proxyArray.getJSONObject(i);
			ProxyAddrDto dto = new ProxyAddrDto();
			dto.setCreateTime(new Date());
			dto.setUpdateTime(dto.getCreateTime());
			dto.setIp(InetAddressUtils.inet_aton(pObject.getString("ip").trim()));
			dto.setPort(Integer.valueOf(pObject.getString("port").trim()));
			dtoList.add(dto);
		}
		BatchIterator<ProxyAddrDto> iterator = new BatchIterator<ProxyAddrDto>(dtoList);
		while (iterator.hasNext()) {
			List<ProxyAddrDto> insertDtos = iterator.next();
			proxyAddrDao.batchInsert(insertDtos);
		}
	}
}
